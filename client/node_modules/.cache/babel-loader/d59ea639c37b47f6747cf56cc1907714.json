{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link,withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{registerUser}from\"../../actions/authActions\";import classnames from\"classnames\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);_this=_super.call(this);_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var newUser={username:_this.state.username,email:_this.state.email,password:_this.state.password,password2:_this.state.password2};_this.props.registerUser(newUser,_this.props.history);};_this.state={username:\"\",email:\"\",password:\"\",password2:\"\",errors:{}};return _this;}_createClass(Register,[{key:\"componentDidMount\",value:function componentDidMount(){// If logged in and user navigates to Register page, should redirect them to dashboard\nif(this.props.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Register\"),\" below\"),/*#__PURE__*/React.createElement(\"p\",{className:\"grey-text text-darken-1\"},\"Already have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Log in\"))),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col s12\"},/*#__PURE__*/React.createElement(\"label\",null,\"Username\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.username,error:errors.username,className:classnames(\"form-control\",{invalid:errors.username}),id:\"username\",type:\"text\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.username)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col s12\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.email,error:errors.email,className:classnames(\"form-control\",{invalid:errors.email}),id:\"email\",type:\"text\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.email)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col s12\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.password,error:errors.password,className:classnames(\"form-control\",{invalid:errors.password}),id:\"password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.password)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col s12\"},/*#__PURE__*/React.createElement(\"label\",null,\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.password2,error:errors.password2,className:classnames(\"form-control\",{invalid:errors.password2}),id:\"password2\",type:\"password\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.password2)),/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"button\",{style:{width:\"150px\",borderRadius:\"5px\",letterSpacing:\"1.5px\",marginTop:\"1rem\"},type:\"submit\",className:\"form-group btn btn-primary btn-block\"},\"Sign up\")))));}}]);return Register;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{registerUser:registerUser})(withRouter(Register));","map":{"version":3,"sources":["C:/Users/Ricky/Documents/CS Stuff/Projects/RideBuddies/src/components/Auth/Register.components.js"],"names":["React","Component","Link","withRouter","connect","registerUser","classnames","Register","onChange","e","setState","target","id","value","onSubmit","preventDefault","newUser","username","state","email","password","password2","props","history","errors","auth","isAuthenticated","push","nextProps","paddingLeft","invalid","width","borderRadius","letterSpacing","marginTop","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\n\r\nclass Register extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:\"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            password2:\"\",\r\n            errors:{}\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard\");\r\n        }\r\n      }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        \r\n        if(nextProps.errors){\r\n            this.setState({\r\n                errors:nextProps.errors\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    onChange = e =>{\r\n        this.setState({[e.target.id]:e.target.value});\r\n    };\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const newUser = {\r\n            username: this.state.username,\r\n            email:this.state.email,\r\n            password:this.state.password,\r\n            password2: this.state.password2\r\n        };\r\n        this.props.registerUser(newUser,this.props.history);\r\n    };\r\n\r\n    render(){\r\n        const {errors} =this.state;\r\n\r\n        return( \r\n            <div>\r\n                <br />\r\n                <div className=\"container\">\r\n                        <div style={{ paddingLeft: \"11.250px\" }}>\r\n                            <h4><b>Register</b> below</h4>\r\n                            <p className=\"grey-text text-darken-1\">\r\n                            Already have an account? <Link to=\"/login\">Log in</Link>\r\n                            </p>\r\n                        </div>\r\n                        <form noValidate onSubmit={this.onSubmit}>\r\n                            <div className=\"form-group col s12\">\r\n                                <label>Username</label>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.username}\r\n                                    error={errors.username}\r\n                                    className={classnames(\"form-control\", {\r\n                                        invalid: errors.username\r\n                                      })}\r\n                                    id=\"username\"\r\n                                    type=\"text\"\r\n                                />\r\n                                <p className=\"text-danger\">{errors.username}</p>\r\n                            </div>\r\n                            \r\n\r\n                            <div className=\"form-group col s12\">\r\n                                <label>Email</label>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.email}\r\n                                    error={errors.email}\r\n                                    className={classnames(\"form-control\", {\r\n                                        invalid: errors.email\r\n                                      })}\r\n                                    id=\"email\"\r\n                                    type=\"text\"\r\n                              \r\n                                />\r\n                                <p className=\"text-danger\">{errors.email}</p>\r\n                            </div>\r\n\r\n                            <div className=\"form-group col s12\">\r\n                                <label>Password</label>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.password}\r\n                                    error={errors.password}\r\n                                    className={classnames(\"form-control\", {\r\n                                        invalid: errors.password\r\n                                      })}\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                />\r\n                                <p className=\"text-danger\">{errors.password}</p>\r\n                            </div>\r\n                            \r\n\r\n                            <div className=\"form-group col s12\">\r\n                                <label>Confirm Password</label>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.password2}\r\n                                    error={errors.password2}\r\n                                    className={classnames(\"form-control\", {\r\n                                        invalid: errors.password2\r\n                                      })}\r\n                                    id=\"password2\"\r\n                                    type=\"password\"\r\n                            \r\n                                />\r\n                                <p className=\"text-danger\">{errors.password2}</p>\r\n                            </div>\r\n\r\n                            <div style={{ paddingLeft: \"11.250px\" }}>\r\n                                <button\r\n                                style={{\r\n                                    width: \"150px\",\r\n                                    borderRadius: \"5px\",\r\n                                    letterSpacing: \"1.5px\",\r\n                                    marginTop: \"1rem\"\r\n                                }}\r\n                                type=\"submit\"\r\n                                className=\"form-group btn btn-primary btn-block\"\r\n                                >\r\n                                    Sign up\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                        \r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n} \r\n\r\nRegister.propTypes ={\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth:PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state=>({\r\n    auth:state.auth,\r\n    errors:state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps,{registerUser})(withRouter(Register));\r\n"]},"metadata":{},"sourceType":"module"}