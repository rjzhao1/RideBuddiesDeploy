{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Route}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"./utils/setAuthToken\";import{setCurrentUser,logoutUser}from\"./actions/authActions\";import'./index.css';import\"bootstrap/dist/css/bootstrap.min.css\";import{Provider}from\"react-redux\";import store from\"./store\";import Navbar from\"./components/navbar.component\";import Landing from'./components/pages/Landing.component';import Login from'./components/Auth/Login.components';import Register from'./components/Auth/Register.components';import PrivateRoute from\"./components/private-route/PrivateRoute\";import Dashboard from\"./components/dashboard/Dashboard\";import RidesList from\"./components/pages/list-rides.component\";import MyRidesList from\"./components/pages/my-rides.component\";import AddRide from\"./components/pages/add-rides.component\";import RidesHost from\"./components/pages/ride-host.component\";// Check for token to keep user logged in\nif(localStorage.jwtToken){var token=localStorage.jwtToken;setAuthToken(token);var decoded=jwt_decode(token);store.dispatch(setCurrentUser(decoded));var currentTime=Date.now()/1000;if(decoded.exp<currentTime){store.dispatch(logoutUser());window.location.href=\"./login\";}}function App(){return/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,component:Landing}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",exact:true,component:Register}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",exact:true,component:Login}),/*#__PURE__*/React.createElement(Route,{path:\"/rides\",exact:true,component:RidesList}),/*#__PURE__*/React.createElement(Route,{path:\"/rides/view/:id\",exact:true,component:RidesHost}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/rides/add\",exact:true,component:AddRide}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/rides/myRides\",exact:true,component:MyRidesList}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard})));}export default App;","map":{"version":3,"sources":["C:/Users/Ricky/Documents/CS Stuff/Projects/RideBuddies/client/src/App.js"],"names":["React","BrowserRouter","Router","Route","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","store","Navbar","Landing","Login","Register","PrivateRoute","Dashboard","RidesList","MyRidesList","AddRide","RidesHost","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,aAAa,GAAIC,CAAAA,MAAzB,CAAgCC,KAAhC,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,OAASC,cAAT,CAAyBC,UAAzB,KAA2C,uBAA3C,CACA,MAAO,aAAP,CAEA,MAAO,sCAAP,CAEA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sCAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oCAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uCAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yCAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yCAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wCAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wCAAtB,CAEA;AACA,GAAIC,YAAY,CAACC,QAAjB,CAA2B,CACzB,GAAMC,CAAAA,KAAK,CAAGF,YAAY,CAACC,QAA3B,CACAhB,YAAY,CAACiB,KAAD,CAAZ,CACA,GAAMC,CAAAA,OAAO,CAAGnB,UAAU,CAACkB,KAAD,CAA1B,CACAb,KAAK,CAACe,QAAN,CAAelB,cAAc,CAACiB,OAAD,CAA7B,EACA,GAAME,CAAAA,WAAW,CAAGC,IAAI,CAACC,GAAL,GAAa,IAAjC,CAEA,GAAIJ,OAAO,CAACK,GAAR,CAAcH,WAAlB,CAA+B,CAC7BhB,KAAK,CAACe,QAAN,CAAejB,UAAU,EAAzB,EACAsB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACD,CACF,CAID,QAASC,CAAAA,GAAT,EAAe,CACb,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAEvB,KAAjB,eACE,oBAAC,MAAD,mBACE,oBAAC,MAAD,MADF,cAEM,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEE,OAAjC,EAFN,cAGM,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,KAAK,KAA7B,CAA8B,SAAS,CAAEE,QAAzC,EAHN,cAIM,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,SAAS,CAAED,KAAtC,EAJN,cAKM,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,SAAS,CAAEI,SAAtC,EALN,cAMM,oBAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,KAAK,KAAnC,CAAoC,SAAS,CAAEG,SAA/C,EANN,cAOM,oBAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,CAAgC,KAAK,KAArC,CAAsC,SAAS,CAAED,OAAjD,EAPN,cAQM,oBAAC,YAAD,EAAc,IAAI,CAAC,gBAAnB,CAAoC,KAAK,KAAzC,CAA0C,SAAS,CAAED,WAArD,EARN,cASM,oBAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,YAAzB,CAAsC,SAAS,CAAEF,SAAjD,EATN,CADF,CADF,CAiBD,CAED,cAAeiB,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport {BrowserRouter as Router,Route} from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport './index.css'\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nimport Navbar from \"./components/navbar.component\";\nimport Landing from './components/pages/Landing.component';\nimport Login from './components/Auth/Login.components';\nimport Register from './components/Auth/Register.components';\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\n\nimport RidesList from \"./components/pages/list-rides.component\";\nimport MyRidesList from \"./components/pages/my-rides.component\";\nimport AddRide from \"./components/pages/add-rides.component\";\nimport RidesHost from \"./components/pages/ride-host.component\"\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  store.dispatch(setCurrentUser(decoded));\n  const currentTime = Date.now() / 1000; \n\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./login\";\n  }\n}\n\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Navbar/>\n            <Route path=\"/\" exact component={Landing}></Route>\n            <Route path=\"/register\" exact component={Register}></Route>\n            <Route path=\"/login\" exact component={Login}></Route>\n            <Route path=\"/rides\" exact component={RidesList}></Route>\n            <Route path=\"/rides/view/:id\" exact component={RidesHost}></Route>\n            <PrivateRoute path=\"/rides/add\" exact component={AddRide}></PrivateRoute>\n            <PrivateRoute path=\"/rides/myRides\" exact component={MyRidesList}></PrivateRoute>\n            <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n            \n       \n      </Router>   \n    </Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}