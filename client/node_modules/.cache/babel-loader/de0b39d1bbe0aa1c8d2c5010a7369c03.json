{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ricky\\\\Projects\\\\RideBuddiesDeploy\\\\client\\\\src\\\\components\\\\pages\\\\add-rides.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport DatePicker from 'react-datepicker';\nimport { TimePicker } from 'antd';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'antd/dist/antd.css';\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from '@reach/combobox';\nimport '@reach/combobox/styles.css';\nimport { LoadScript } from '@react-google-maps/api';\nconst libraries = ['places']; // Autofill and Suggestion for the Location Field\n// Refactor from Google Maps API\n\nconst PlacesAutocomplete = props => {\n  const {\n    ready,\n    value,\n    suggestions: {\n      status,\n      data\n    },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: {\n        lat: () => 37.774929,\n        lng: () => -122.419418\n      },\n      radius: 200 * 1000\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Combobox, {\n    onSelect: async address => {\n      setValue(address, false);\n      clearSuggestions();\n\n      try {\n        const results = await getGeocode({\n          address\n        });\n        const {\n          lat,\n          lng\n        } = await getLatLng(results[0]);\n        props.onChangeLocation(address, lat, lng);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxInput, {\n    value: value,\n    onChange: e => {\n      setValue(e.target.value);\n    },\n    disabled: !ready,\n    placeholder: \"Enter an address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(ComboboxPopover, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 6\n    }\n  }, status === 'OK' && data.map(({\n    id,\n    description\n  }) => /*#__PURE__*/React.createElement(ComboboxOption, {\n    key: id,\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }))))));\n};\n\nclass AddRide extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeGroupName = this.onChangeGroupName.bind(this);\n    this.onChangeSeats = this.onChangeSeats.bind(this);\n    this.onChangeLocation = this.onChangeLocation.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onChangePickup = this.onChangePickup.bind(this);\n    this.onChangeTime = this.onChangeTime.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      seats: 0,\n      group_Name: '',\n      pickup: '',\n      lat: 0,\n      lng: 0,\n      location: '',\n      date: new Date(),\n      time: '',\n      errors: {}\n    };\n  } // Set the state for seats\n\n\n  onChangeSeats(e) {\n    this.setState({\n      seats: e.target.value\n    });\n  } // Set the state for group name\n\n\n  onChangeGroupName(e) {\n    this.setState({\n      group_Name: e.target.value\n    });\n  } // Set the state for location, latitude and longitude\n\n\n  onChangeLocation(address, lat, lng) {\n    this.setState({\n      location: address,\n      lat: lat,\n      lng: lng\n    });\n  } // Set the state of pickup\n\n\n  onChangePickup(e) {\n    this.setState({\n      pickup: e.target.value\n    });\n  } //Set the state of Date\n\n\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  } //Set the state of time\n\n\n  onChangeTime(time, timeString) {\n    this.setState({\n      time: timeString\n    });\n  } // submits the form to add a new ride\n\n\n  onSubmit(e) {\n    e.preventDefault();\n    const {\n      user\n    } = this.props.auth;\n    console.log(user); // Create a ride object to add to database\n\n    const ride = {\n      host_email: user.email,\n      seats: this.state.seats,\n      group_Name: this.state.group_Name,\n      pickup: this.state.pickup,\n      lat: this.state.lat,\n      lng: this.state.lng,\n      location: this.state.location,\n      date: this.state.date,\n      time: this.state.time\n    }; // API call to add new ride\n\n    axios.post('/api/rides/add', ride).then(() => {\n      window.alert('Ride created');\n      window.location = '/';\n    }).catch(err => this.setState({\n      errors: err.response.data\n    }));\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }\n    }, \"Create Ride Groups!\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, \"Group Name: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.group_Name,\n      onChange: this.onChangeGroupName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 7\n      }\n    }, errors.group_Name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 7\n      }\n    }, \"Seats: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.seats,\n      onChange: this.onChangeSeats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 7\n      }\n    }, errors.seats, errors.noSeats, errors.seatNaN)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }\n    }, \"Destination: \"), /*#__PURE__*/React.createElement(LoadScript, {\n      googleMapsApiKey: process.env.REACT_APP_GOOGLE_KEY,\n      libraries: libraries,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PlacesAutocomplete, {\n      onChangeLocation: this.onChangeLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    }, errors.location)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }\n    }, \"Pickup: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.pickup,\n      onChange: this.onChangePickup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }\n    }, errors.pickup)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 7\n      }\n    }, \"Date: \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.date,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }\n    }, errors.date)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }\n    }, \"Time: \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TimePicker, {\n      use12Hours: true,\n      format: \"h:mm A\",\n      selected: this.state.time,\n      onChange: this.onChangeTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 8\n      }\n    }, errors.time))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create Ride\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\nAddRide.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps)(AddRide);","map":{"version":3,"sources":["C:/Users/Ricky/Projects/RideBuddiesDeploy/client/src/components/pages/add-rides.component.js"],"names":["React","Component","axios","PropTypes","connect","DatePicker","TimePicker","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","LoadScript","libraries","PlacesAutocomplete","props","ready","value","suggestions","status","data","setValue","clearSuggestions","requestOptions","location","lat","lng","radius","address","results","onChangeLocation","err","console","log","e","target","map","id","description","AddRide","constructor","onChangeGroupName","bind","onChangeSeats","onChangeDate","onChangePickup","onChangeTime","onSubmit","state","seats","group_Name","pickup","date","Date","time","errors","setState","timeString","preventDefault","user","auth","ride","host_email","email","post","then","window","alert","catch","response","render","noSeats","seatNaN","process","env","REACT_APP_GOOGLE_KEY","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport DatePicker from 'react-datepicker';\r\nimport { TimePicker } from 'antd';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport usePlacesAutocomplete, {\r\n\tgetGeocode,\r\n\tgetLatLng,\r\n} from 'use-places-autocomplete';\r\n\r\nimport {\r\n\tCombobox,\r\n\tComboboxInput,\r\n\tComboboxPopover,\r\n\tComboboxList,\r\n\tComboboxOption,\r\n} from '@reach/combobox';\r\nimport '@reach/combobox/styles.css';\r\n\r\nimport { LoadScript } from '@react-google-maps/api';\r\n\r\nconst libraries = ['places'];\r\n\r\n// Autofill and Suggestion for the Location Field\r\n// Refactor from Google Maps API\r\nconst PlacesAutocomplete = (props) => {\r\n\tconst {\r\n\t\tready,\r\n\t\tvalue,\r\n\t\tsuggestions: { status, data },\r\n\t\tsetValue,\r\n\t\tclearSuggestions,\r\n\t} = usePlacesAutocomplete({\r\n\t\trequestOptions: {\r\n\t\t\tlocation: { lat: () => 37.774929, lng: () => -122.419418 },\r\n\t\t\tradius: 200 * 1000,\r\n\t\t},\r\n\t});\r\n\treturn (\r\n\t\t<div className=\"location\">\r\n\t\t\t{/* Wrapper for the search bar and Auto suggestion List */}\r\n\t\t\t<Combobox\r\n\t\t\t\tonSelect={async (address) => {\r\n\t\t\t\t\tsetValue(address, false);\r\n\t\t\t\t\tclearSuggestions();\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst results = await getGeocode({ address });\r\n\t\t\t\t\t\tconst { lat, lng } = await getLatLng(results[0]);\r\n\t\t\t\t\t\tprops.onChangeLocation(address, lat, lng);\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{/* Search Bar */}\r\n\t\t\t\t<ComboboxInput\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={!ready}\r\n\t\t\t\t\tplaceholder=\"Enter an address\"\r\n\t\t\t\t/>\r\n\t\t\t\t{/* Auto Fill and Suggestion list */}\r\n\t\t\t\t<ComboboxPopover>\r\n\t\t\t\t\t<ComboboxList>\r\n\t\t\t\t\t\t{status === 'OK' &&\r\n\t\t\t\t\t\t\tdata.map(({ id, description }) => (\r\n\t\t\t\t\t\t\t\t<ComboboxOption key={id} value={description} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ComboboxList>\r\n\t\t\t\t</ComboboxPopover>\r\n\t\t\t</Combobox>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nclass AddRide extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.onChangeGroupName = this.onChangeGroupName.bind(this);\r\n\t\tthis.onChangeSeats = this.onChangeSeats.bind(this);\r\n\t\tthis.onChangeLocation = this.onChangeLocation.bind(this);\r\n\t\tthis.onChangeDate = this.onChangeDate.bind(this);\r\n\t\tthis.onChangePickup = this.onChangePickup.bind(this);\r\n\t\tthis.onChangeTime = this.onChangeTime.bind(this);\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tseats: 0,\r\n\t\t\tgroup_Name: '',\r\n\t\t\tpickup: '',\r\n\t\t\tlat: 0,\r\n\t\t\tlng: 0,\r\n\t\t\tlocation: '',\r\n\t\t\tdate: new Date(),\r\n\t\t\ttime: '',\r\n\t\t\terrors: {},\r\n\t\t};\r\n\t}\r\n\r\n\t// Set the state for seats\r\n\tonChangeSeats(e) {\r\n\t\tthis.setState({\r\n\t\t\tseats: e.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\t// Set the state for group name\r\n\tonChangeGroupName(e) {\r\n\t\tthis.setState({\r\n\t\t\tgroup_Name: e.target.value,\r\n\t\t});\r\n\t}\r\n\t// Set the state for location, latitude and longitude\r\n\tonChangeLocation(address, lat, lng) {\r\n\t\tthis.setState({\r\n\t\t\tlocation: address,\r\n\t\t\tlat: lat,\r\n\t\t\tlng: lng,\r\n\t\t});\r\n\t}\r\n\t// Set the state of pickup\r\n\tonChangePickup(e) {\r\n\t\tthis.setState({\r\n\t\t\tpickup: e.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\t//Set the state of Date\r\n\tonChangeDate(date) {\r\n\t\tthis.setState({\r\n\t\t\tdate: date,\r\n\t\t});\r\n\t}\r\n\r\n\t//Set the state of time\r\n\tonChangeTime(time, timeString) {\r\n\t\tthis.setState({\r\n\t\t\ttime: timeString,\r\n\t\t});\r\n\t}\r\n\r\n\t// submits the form to add a new ride\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst { user } = this.props.auth;\r\n\t\tconsole.log(user);\r\n\r\n\t\t// Create a ride object to add to database\r\n\t\tconst ride = {\r\n\t\t\thost_email: user.email,\r\n\t\t\tseats: this.state.seats,\r\n\t\t\tgroup_Name: this.state.group_Name,\r\n\t\t\tpickup: this.state.pickup,\r\n\t\t\tlat: this.state.lat,\r\n\t\t\tlng: this.state.lng,\r\n\t\t\tlocation: this.state.location,\r\n\t\t\tdate: this.state.date,\r\n\t\t\ttime: this.state.time,\r\n\t\t};\r\n\t\t// API call to add new ride\r\n\t\taxios\r\n\t\t\t.post('/api/rides/add', ride)\r\n\t\t\t.then(() => {\r\n\t\t\t\twindow.alert('Ride created');\r\n\t\t\t\twindow.location = '/';\r\n\t\t\t})\r\n\t\t\t.catch((err) => this.setState({ errors: err.response.data }));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { errors } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<br />\r\n\t\t\t\t<h3>Create Ride Groups!</h3>\r\n\t\t\t\t{/* Add rides form */}\r\n\t\t\t\t<form onSubmit={this.onSubmit}>\r\n\r\n\t\t\t\t\t{/* Group name Field*/}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Group Name: </label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tvalue={this.state.group_Name}\r\n\t\t\t\t\t\t\tonChange={this.onChangeGroupName}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.group_Name}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Seats Field*/}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Seats: </label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tvalue={this.state.seats}\r\n\t\t\t\t\t\t\tonChange={this.onChangeSeats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"text-danger\">\r\n\t\t\t\t\t\t\t{errors.seats}\r\n\t\t\t\t\t\t\t{errors.noSeats}\r\n\t\t\t\t\t\t\t{errors.seatNaN}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Destination Field */}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Destination: </label>\r\n\t\t\t\t\t\t<LoadScript\r\n\t\t\t\t\t\t\tgoogleMapsApiKey={process.env.REACT_APP_GOOGLE_KEY}\r\n\t\t\t\t\t\t\tlibraries={libraries}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlacesAutocomplete onChangeLocation={this.onChangeLocation} />\r\n\t\t\t\t\t\t</LoadScript>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.location}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Pickup Field */}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Pickup: </label>\r\n\t\t\t\t\t\t<input \r\n                        type = \"text\"\r\n                        className=\"form-control\"\r\n                        value = {this.state.pickup}\r\n                        onChange={this.onChangePickup}\r\n                        />\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.pickup}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Date Field */}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Date: </label>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tselected={this.state.date}\r\n\t\t\t\t\t\t\t\tonChange={this.onChangeDate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.date}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Time Field */}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Time: </label>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\tuse12Hours\r\n\t\t\t\t\t\t\t\tformat=\"h:mm A\"\r\n\t\t\t\t\t\t\t\tselected={this.state.time}\r\n\t\t\t\t\t\t\t\tonChange={this.onChangeTime}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{errors.time}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Submit Button */}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvalue=\"Create Ride\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAddRide.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\terrors: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\terrors: state.errors,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddRide);\r\n"]},"metadata":{},"sourceType":"module"}