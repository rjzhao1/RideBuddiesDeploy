{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{loginUser}from\"../../actions/authActions\";import classnames from\"classnames\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var User={email:_this.state.email,password:_this.state.password};_this.props.loginUser(User);};_this.state={username:\"\",email:\"\",password:\"\",errors:{}};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){// If logged in and user navigates to Login page, should redirect them to dashboard\nif(this.props.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Sign In\")),/*#__PURE__*/React.createElement(\"p\",{className:\"grey-text text-darken-1\"},\"Don't have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Sign Up\"))),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col s12\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.email,error:errors.email,className:classnames(\"form-control\",{invalid:errors.email||errors.emailnotfound}),id:\"email\",type:\"text\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.email,errors.emailnotfound)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col s12\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.password,error:errors.password,className:classnames(\"form-control\",{invalid:errors.password||errors.passwordincorrect}),id:\"password\",type:\"password\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.password,errors.passwordincorrect)),/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"button\",{style:{width:\"150px\",borderRadius:\"5px\",letterSpacing:\"1.5px\",marginTop:\"1rem\"},type:\"submit\",className:\"form-group btn btn-primary btn-block\"},\"Log In\"),/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Back to Home Page\")))));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{loginUser:loginUser})(Login);","map":{"version":3,"sources":["C:/Users/Ricky/Documents/CS Stuff/Projects/RideBuddies/client/src/components/Auth/Login.components.js"],"names":["React","Component","Link","connect","loginUser","classnames","Login","onChange","e","setState","target","id","value","onSubmit","preventDefault","User","email","state","password","props","username","errors","auth","isAuthenticated","history","push","nextProps","paddingLeft","invalid","emailnotfound","passwordincorrect","width","borderRadius","letterSpacing","marginTop","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\n\r\nclass Login extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:\"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            errors:{}\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard\");\r\n        }\r\n      }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.auth.isAuthenticated){\r\n            this.props.history.push(\"/dashboard\");\r\n        }\r\n\r\n        if(nextProps.errors){\r\n            this.setState({\r\n                errors:nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    onChange = e =>{\r\n        this.setState({[e.target.id]:e.target.value});\r\n    };\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const User = {\r\n            email:this.state.email,\r\n            password:this.state.password,\r\n        };\r\n        this.props.loginUser(User);\r\n    };\r\n\r\n    render(){\r\n        const {errors} =this.state;\r\n\r\n        return( \r\n            <div>\r\n                <br />\r\n                <div className=\"container\">\r\n                        <div style={{ paddingLeft: \"11.250px\" }}>\r\n                            <h4><b>Sign In</b></h4>\r\n                            <p className=\"grey-text text-darken-1\">\r\n                            Don't have an account? <Link to=\"/register\">Sign Up</Link>\r\n                            </p>\r\n                        </div>\r\n                        <form noValidate onSubmit={this.onSubmit}>\r\n                         \r\n\r\n                            <div className=\"form-group col s12\">\r\n                                <label>Email</label>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.email}\r\n                                    error={errors.email}\r\n                                    className={classnames(\"form-control\", {\r\n                                        invalid: errors.email||errors.emailnotfound\r\n                                      })}\r\n                                    id=\"email\"\r\n                                    type=\"text\"\r\n                              \r\n                                />\r\n                                <p className=\"text-danger\">\r\n                                    {errors.email}\r\n                                    {errors.emailnotfound}\r\n                                </p>\r\n                            </div>\r\n                            \r\n\r\n                            <div className=\"form-group col s12\">\r\n                                <label>Password</label>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.password}\r\n                                    error={errors.password}\r\n                                    className={classnames(\"form-control\", {\r\n                                        invalid: errors.password||errors.passwordincorrect\r\n                                      })}\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                         \r\n                                />\r\n                                 <p className=\"text-danger\">\r\n                                    {errors.password}\r\n                                    {errors.passwordincorrect}\r\n                                </p>\r\n                            </div>\r\n                            \r\n\r\n                            <div style={{ paddingLeft: \"11.250px\" }}>\r\n                                <button\r\n                                    style={{\r\n                                        width: \"150px\",\r\n                                        borderRadius: \"5px\",\r\n                                        letterSpacing: \"1.5px\",\r\n                                        marginTop: \"1rem\"\r\n                                    }}\r\n                                    type=\"submit\"\r\n                                    className=\"form-group btn btn-primary btn-block\">\r\n                                    Log In\r\n                                </button>\r\n                                <Link to=\"/\">Back to Home Page</Link>\r\n                            </div>\r\n                        </form>\r\n                </div>\r\n               \r\n\r\n            </div>\r\n            \r\n        )\r\n    }\r\n} \r\n\r\nLogin.propTypes = {\r\n    loginUser:PropTypes.func.isRequired,\r\n    auth:PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = state =>({\r\n    auth:state.auth,\r\n    errors:state.errors\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {loginUser}\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}