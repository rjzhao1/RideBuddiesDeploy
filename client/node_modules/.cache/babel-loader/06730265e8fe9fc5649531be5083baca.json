{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ricky\\\\Documents\\\\CS Stuff\\\\Projects\\\\RideBuddies\\\\client\\\\src\\\\components\\\\pages\\\\add-rides.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport DatePicker from 'react-datepicker';\nimport { TimePicker } from 'antd';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'antd/dist/antd.css';\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from '@reach/combobox';\nimport '@reach/combobox/styles.css';\nimport { LoadScript } from '@react-google-maps/api';\nconst libraries = ['places'];\n\nconst PlacesAutocomplete = props => {\n  const {\n    ready,\n    value,\n    suggestions: {\n      status,\n      data\n    },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: {\n        lat: () => 37.774929,\n        lng: () => -122.419418\n      },\n      radius: 200 * 1000\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pickup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Combobox, {\n    onSelect: async address => {\n      setValue(address, false);\n      clearSuggestions();\n\n      try {\n        const results = await getGeocode({\n          address\n        });\n        const {\n          lat,\n          lng\n        } = await getLatLng(results[0]);\n        props.onChangePickup(address, lat, lng);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxInput, {\n    value: value,\n    onChange: e => {\n      setValue(e.target.value);\n    },\n    disabled: !ready,\n    placeholder: \"Enter an address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(ComboboxPopover, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ComboboxList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  }, status === 'OK' && data.map(({\n    id,\n    description\n  }) => /*#__PURE__*/React.createElement(ComboboxOption, {\n    key: id,\n    value: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }))))));\n};\n\nclass AddRide extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeGroupName = this.onChangeGroupName.bind(this);\n    this.onChangeSeats = this.onChangeSeats.bind(this);\n    this.onChangeLocation = this.onChangeLocation.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onChangePickup = this.onChangePickup.bind(this);\n    this.onChangeTime = this.onChangeTime.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      seats: 0,\n      group_Name: '',\n      pickup: '',\n      pick_lat: 0,\n      pick_lng: 0,\n      location: '',\n      date: new Date(),\n      time: '',\n      errors: {}\n    };\n  }\n\n  onChangeSeats(e) {\n    this.setState({\n      seats: e.target.value\n    });\n  }\n\n  onChangeGroupName(e) {\n    this.setState({\n      group_Name: e.target.value\n    });\n  }\n\n  onChangePickup(address, lat, lng) {\n    this.setState({\n      pickup: address,\n      pick_lat: lat,\n      pick_lng: lng\n    });\n  }\n\n  onChangeLocation(e) {\n    this.setState({\n      location: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n\n  onChangeTime(time, timeString) {\n    this.setState({\n      time: timeString\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const {\n      user\n    } = this.props.auth;\n    console.log(user);\n    const ride = {\n      host_email: user.email,\n      seats: this.state.seats,\n      group_Name: this.state.group_Name,\n      pickup: this.state.pickup,\n      pick_lat: this.state.pick_lat,\n      pick_lng: this.state.pick_lng,\n      location: this.state.location,\n      date: this.state.date,\n      time: this.state.time\n    };\n    axios.post('/api/rides/add', ride).then(() => {\n      window.alert('Ride created');\n      window.location = '/';\n    }).catch(err => this.setState({\n      errors: err.response.data\n    }));\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 5\n      }\n    }, \"Create Ride Groups!\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, \"Group Name: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.group_Name,\n      onChange: this.onChangeGroupName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }\n    }, errors.group_Name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 7\n      }\n    }, \"Seats: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.seats,\n      onChange: this.onChangeSeats,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }\n    }, errors.seats, errors.noSeats)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }\n    }, \"Destination: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.location,\n      onChange: this.onChangeLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }\n    }, errors.location)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 7\n      }\n    }, \"Pickup: \"), /*#__PURE__*/React.createElement(LoadScript, {\n      googleMapsApiKey: process.env.REACT_APP_GOOGLE_KEY,\n      libraries: libraries,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PlacesAutocomplete, {\n      onChangePickup: this.onChangePickup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }\n    }, errors.pickup)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 7\n      }\n    }, \"Date: \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.date,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }\n    }, errors.date)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 7\n      }\n    }, \"Time: \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TimePicker, {\n      use12Hours: true,\n      format: \"h:mm A\",\n      selected: this.state.time,\n      onChange: this.onChangeTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 8\n      }\n    }, errors.time))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create Ride\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\nAddRide.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps)(AddRide);","map":{"version":3,"sources":["C:/Users/Ricky/Documents/CS Stuff/Projects/RideBuddies/client/src/components/pages/add-rides.component.js"],"names":["React","Component","axios","PropTypes","connect","DatePicker","TimePicker","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","LoadScript","libraries","PlacesAutocomplete","props","ready","value","suggestions","status","data","setValue","clearSuggestions","requestOptions","location","lat","lng","radius","address","results","onChangePickup","err","console","log","e","target","map","id","description","AddRide","constructor","onChangeGroupName","bind","onChangeSeats","onChangeLocation","onChangeDate","onChangeTime","onSubmit","state","seats","group_Name","pickup","pick_lat","pick_lng","date","Date","time","errors","setState","timeString","preventDefault","user","auth","ride","host_email","email","post","then","window","alert","catch","response","render","noSeats","process","env","REACT_APP_GOOGLE_KEY","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport DatePicker from 'react-datepicker';\r\nimport { TimePicker } from 'antd';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport usePlacesAutocomplete, {\r\n\tgetGeocode,\r\n\tgetLatLng,\r\n} from 'use-places-autocomplete';\r\n\r\nimport {\r\n\tCombobox,\r\n\tComboboxInput,\r\n\tComboboxPopover,\r\n\tComboboxList,\r\n\tComboboxOption,\r\n} from '@reach/combobox';\r\nimport '@reach/combobox/styles.css';\r\n\r\nimport { LoadScript } from '@react-google-maps/api';\r\n\r\nconst libraries = ['places'];\r\n\r\nconst PlacesAutocomplete = (props) => {\r\n\tconst {\r\n\t\tready,\r\n\t\tvalue,\r\n\t\tsuggestions: { status, data },\r\n\t\tsetValue,\r\n\t\tclearSuggestions,\r\n\t} = usePlacesAutocomplete({\r\n\t\trequestOptions: {\r\n\t\t\tlocation: { lat: () => 37.774929, lng: () => -122.419418 },\r\n\t\t\tradius: 200 * 1000,\r\n\t\t},\r\n\t});\r\n\treturn (\r\n\t\t<div className=\"pickup\">\r\n\t\t\t<Combobox\r\n\t\t\t\tonSelect={async (address) => {\r\n\t\t\t\t\tsetValue(address, false);\r\n\t\t\t\t\tclearSuggestions();\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst results = await getGeocode({ address });\r\n\t\t\t\t\t\tconst { lat, lng } = await getLatLng(results[0]);\r\n\t\t\t\t\t\tprops.onChangePickup(address, lat, lng);\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ComboboxInput\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdisabled={!ready}\r\n\t\t\t\t\tplaceholder=\"Enter an address\"\r\n\t\t\t\t/>\r\n\t\t\t\t<ComboboxPopover>\r\n\t\t\t\t\t<ComboboxList>\r\n\t\t\t\t\t\t{status === 'OK' &&\r\n\t\t\t\t\t\t\tdata.map(({ id, description }) => (\r\n\t\t\t\t\t\t\t\t<ComboboxOption key={id} value={description} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ComboboxList>\r\n\t\t\t\t</ComboboxPopover>\r\n\t\t\t</Combobox>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nclass AddRide extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.onChangeGroupName = this.onChangeGroupName.bind(this);\r\n\t\tthis.onChangeSeats = this.onChangeSeats.bind(this);\r\n\t\tthis.onChangeLocation = this.onChangeLocation.bind(this);\r\n\t\tthis.onChangeDate = this.onChangeDate.bind(this);\r\n\t\tthis.onChangePickup = this.onChangePickup.bind(this);\r\n\t\tthis.onChangeTime = this.onChangeTime.bind(this);\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tseats: 0,\r\n\t\t\tgroup_Name: '',\r\n\t\t\tpickup: '',\r\n\t\t\tpick_lat: 0,\r\n\t\t\tpick_lng: 0,\r\n\t\t\tlocation: '',\r\n\t\t\tdate: new Date(),\r\n\t\t\ttime: '',\r\n\t\t\terrors: {},\r\n\t\t};\r\n\t}\r\n\r\n\tonChangeSeats(e) {\r\n\t\tthis.setState({\r\n\t\t\tseats: e.target.value,\r\n\t\t});\r\n\t}\r\n\tonChangeGroupName(e) {\r\n\t\tthis.setState({\r\n\t\t\tgroup_Name: e.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangePickup(address, lat, lng) {\r\n\t\tthis.setState({\r\n\t\t\tpickup: address,\r\n\t\t\tpick_lat: lat,\r\n\t\t\tpick_lng: lng,\r\n\t\t});\r\n\t}\r\n\tonChangeLocation(e) {\r\n\t\tthis.setState({\r\n\t\t\tlocation: e.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeDate(date) {\r\n\t\tthis.setState({\r\n\t\t\tdate: date,\r\n\t\t});\r\n\t}\r\n\r\n\tonChangeTime(time, timeString) {\r\n\t\tthis.setState({\r\n\t\t\ttime: timeString,\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst { user } = this.props.auth;\r\n\t\tconsole.log(user);\r\n\r\n\t\tconst ride = {\r\n\t\t\thost_email: user.email,\r\n\t\t\tseats: this.state.seats,\r\n\t\t\tgroup_Name: this.state.group_Name,\r\n\t\t\tpickup: this.state.pickup,\r\n\t\t\tpick_lat: this.state.pick_lat,\r\n\t\t\tpick_lng: this.state.pick_lng,\r\n\t\t\tlocation: this.state.location,\r\n\t\t\tdate: this.state.date,\r\n\t\t\ttime: this.state.time,\r\n\t\t};\r\n\r\n\t\taxios\r\n\t\t\t.post('/api/rides/add', ride)\r\n\t\t\t.then(() => {\r\n\t\t\t\twindow.alert('Ride created');\r\n\t\t\t\twindow.location = '/';\r\n\t\t\t})\r\n\t\t\t.catch((err) => this.setState({ errors: err.response.data }));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { errors } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<br />\r\n\t\t\t\t<h3>Create Ride Groups!</h3>\r\n\t\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Group Name: </label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tvalue={this.state.group_Name}\r\n\t\t\t\t\t\t\tonChange={this.onChangeGroupName}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.group_Name}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Seats: </label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tvalue={this.state.seats}\r\n\t\t\t\t\t\t\tonChange={this.onChangeSeats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"text-danger\">\r\n\t\t\t\t\t\t\t{errors.seats}\r\n\t\t\t\t\t\t\t{errors.noSeats}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Destination: </label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tvalue={this.state.location}\r\n\t\t\t\t\t\t\tonChange={this.onChangeLocation}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.location}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Pickup: </label>\r\n\t\t\t\t\t\t{/* <input \r\n                        type = \"text\"\r\n                        className=\"form-control\"\r\n                        value = {this.state.pickup}\r\n                        onChange={this.onChangePickup}\r\n                        /> */}\r\n\r\n\t\t\t\t\t\t<LoadScript\r\n\t\t\t\t\t\t\tgoogleMapsApiKey={process.env.REACT_APP_GOOGLE_KEY}\r\n\t\t\t\t\t\t\tlibraries={libraries}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlacesAutocomplete onChangePickup={this.onChangePickup} />\r\n\t\t\t\t\t\t</LoadScript>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.pickup}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Date: </label>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tselected={this.state.date}\r\n\t\t\t\t\t\t\t\tonChange={this.onChangeDate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"text-danger\">{errors.date}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label>Time: </label>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\tuse12Hours\r\n\t\t\t\t\t\t\t\tformat=\"h:mm A\"\r\n\t\t\t\t\t\t\t\tselected={this.state.time}\r\n\t\t\t\t\t\t\t\tonChange={this.onChangeTime}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<p className=\"text-danger\">{errors.time}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvalue=\"Create Ride\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAddRide.propTypes = {\r\n\tauth: PropTypes.object.isRequired,\r\n\terrors: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\terrors: state.errors,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddRide);\r\n"]},"metadata":{},"sourceType":"module"}